var finishSwitching=0;if($("#modalNewsletter").length>0&&disabled_popup_by_user=="0"&&winW>=768){var delay=parseInt($("#modalNewsletter").data("delay"));setTimeout(function(){$("#modalNewsletter").modal({keyboard:false})},delay)}if($(".blogs-masonry-grid").length>0){$(".blogs-masonry-grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:true})}megamenuCalculations();scrollaInit();megamenu_on_mobile();initPSFSwiper();initTimeCircles();$(".on-ready.megacategory-tab-ajax-loader-1:not(.ajax-loaded)").each(function(b){load_megacategory_item($(this),null)});$(".on-ready.megadeals-tab-ajax-loader-1:not(.ajax-loaded)").each(function(b){load_megadeals_item($(this),null)});$(".simplecategory-ajax-loader-1:not(.ajax-loaded)").each(function(b){load_simplecategory_widget($(this))});reload_product_favorite();reload_product_compare();equalHeight();initPlyr();jqueryParallax();showProductSelect($("select[name=id_order]").attr("value"));if(winW>=992){if($("#main_sticky .megacontent").length>0){$("#main_sticky .megacontent").each(function(){$(this).find(".psfswiper-container").each(function(){var b=$(this).attr("id");if(swipers[b]!==undefined){swipers[b].update(true)}})})}}if($(".countdown").length>0){$(".countdown").each(function(){var d=[$(this).data("txtyear"),$(this).data("txtmonth"),$(this).data("txtday"),$(this).data("txthour"),$(this).data("txtmin"),$(this).data("txtsec")],e="",b=$(this).data("cl"),g=$(this).data("value_cl"),c=$(this).data("label_cl");if($(this).data("txtday")){e+='<div class="item day-item '+b+'"><span class="text-value '+g+'">{dnn}</span><span class="text-label '+c+'">'+$(this).data("txtday")+"</span></div>"}if($(this).data("txthour")){e+='<div class="item hour-item '+b+'"><span class="text-value '+g+'">{hnn}</span><span class="text-label '+c+'">'+$(this).data("txthour")+"</span></div>"}if($(this).data("txtmin")){e+='<div class="item min-item '+b+'"><span class="text-value '+g+'">{mnn}</span><span class="text-label '+c+'">'+$(this).data("txtmin")+"</span></div>"}if($(this).data("txtsec")){e+='<div class="item sec-item '+b+'"><span class="text-value '+g+'">{snn}</span><span class="text-label '+c+'">'+$(this).data("txtsec")+"</span></div>"}var f=new Date($(this).data("year"),$(this).data("month")-1,$(this).data("day"),$(this).data("hours"),$(this).data("minutes"),$(this).data("seconds"));$(this).countdown({until:f,labels:d,layout:e,isRTL:($(this).data("rtl")=="1"?true:false),})})}if(winW>767){$(".cart-product-list.bottom-fixed").css({bottom:-parseInt($(".cart-product-list.bottom-fixed").outerHeight())});$(".cart-product-list.default").css({"max-height":winH-30-parseInt($(".blockcart-preview").outerHeight())});if($(".cart-product-list.left-fixed").length>0){var a=$(".cart-product-list.left-fixed").clone(true);$("body").append(a);$(".shoppingcart .cart-product-list.left-fixed").remove()}if($(".cart-product-list.bottom-fixed").length>0){var a=$(".cart-product-list.bottom-fixed").clone(true);$("body").append(a);$(".shoppingcart .cart-product-list.bottom-fixed").remove()}}$(document).on("click",".image_list.default .image-thumb",function(){if(!$(this).hasClass("active")){var b=$(this).closest(".image_list");b.find(".image-thumb").removeClass("active");$(this).addClass("active");b.find(".image-main").attr("src",$(this).data("rel"))}});$(document).on("click",".tab-switcher",function(){if($(this).hasClass("active")||finishSwitching){return false}finishSwitching=1;var b=$(this).closest(".tabs-container"),c=b.find(".tab-switcher").index(this);b.find(".active").removeClass("active");$(this).addClass("active");b.find(".tab-content-item:visible").removeClass("active").animate({opacity:"0"},300,function(){var d=b.find(".tab-content-item").eq(c);d.show().css({opacity:"0"});if(d.hasClass("megacategory-tab-ajax-loader-1")){if(d.hasClass("ajax-loaded")){$(this).hide();if(d.find(".swiper-container").length){d.find(".swiper-container").each(function(){var e=$(this).attr("id");swipers[e].update(true)})}d.animate({opacity:"1"},function(){finishSwitching=0}).addClass("active")}else{finishSwitching=0;load_megacategory_item(d,$(this))}}else{if(d.hasClass("megadeals-tab-ajax-loader-1")){if(d.hasClass("ajax-loaded")){$(this).hide();if(d.find(".swiper-container").length){d.find(".swiper-container").each(function(){var e=$(this).attr("id");swipers[e].update(true)})}d.animate({opacity:"1"},function(){finishSwitching=0}).addClass("active")}else{finishSwitching=0;load_megadeals_item(d,$(this))}}else{$(this).hide();if(d.find(".swiper-container").length){d.find(".swiper-container").each(function(){var e=$(this).attr("id");swipers[e].update(true)})}d.animate({opacity:"1"},function(){finishSwitching=0}).addClass("active")}}})});$(document).on("click",".scroll_top",function(){$("body,html").animate({scrollTop:0},400);return false});$(document).on("click",".psf-collapse",function(){var b=$(this).closest(".psf-collapse-main");if($(this).hasClass("active")){$(this).removeClass("active");$(this).next(".psf-collapse-content").slideToggle().removeClass("in")}else{b.find(".active").each(function(){$(this).removeClass("active");$(this).next(".psf-collapse-content").slideToggle().removeClass("in")});$(this).toggleClass("active");$(this).next(".psf-collapse-content").slideToggle().addClass("in")}});$(document).on("click",".add-to-compare",function(c){c.preventDefault();var b={task:"addToCompare",id_product:$(this).data("id_product")};if($(this).hasClass("checked")){if(confirm(txt_remove_compare)==true){b.task="removeCompare";$(this).removeClass("checked")}else{return true}}else{if(parseInt(compare_count)>=parseInt(compare_max)){open_psframework_alert("danger",txt_is_max_compare);return false}compare_count++;$(".total-compare").html(compare_count);$(this).addClass("checked")}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(d){open_psframework_alert(d.status,d.msg)}})});$(document).on("click",".remove-compare",function(c){c.preventDefault();if(confirm(txt_remove_compare)==true){var d=$(this).data("id_product"),b={task:"removeCompare",id_product:d};$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(e){$("#tbl-compare .product-"+d).remove();open_psframework_alert(e.status,e.msg)}})}});$(document).on("click",".add-to-favorite",function(c){c.preventDefault();if(typeof customer_id==="undefined"||parseInt(customer_id)<=0){open_psframework_alert(response.status,response.msg);return false}var b={task:"addToFavorite",id_product:$(this).data("id_product"),id_product_attribute:$(this).data("id_product_attribute")};if($(this).hasClass("checked")){if(confirm(txt_remove_favorite)==true){b.task="removeFavorite";$(this).removeClass("checked")}else{return true}}else{$(this).addClass("checked")}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(d){open_psframework_alert(d.status,d.msg)}})});$(document).on("click",".remove-favorite",function(c){c.preventDefault();if(confirm(txt_remove_favorite)==true){var d=$(this).data("id_product"),b={task:"removeFavorite",id_product:d};$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(e){$("#favorite-product-"+d).remove();open_psframework_alert(e.status,e.msg)}})}});$(document).on("click",".open-social-sharing-modal",function(b){b.preventDefault();$("#modalSocialSharing").modal("show")});$(document).on("click",".open-send-to-friend-modal",function(b){b.preventDefault();$("#modalSendToFriend").modal("show")});$(document).on("click","#open-size-chart",function(b){$("#modalSizeChart").modal("show")});$(document).on("click",".contact-submit",function(){var b=$(this).parents(".contactform-form"),c={task:"contactSubmit",id_order:"",id_product:""},d=b.find("input[name=from]").val(),f=b.find("select[name=id_contact]").val(),g=b.find("textarea[name=message]").val(),e="";if(f=="0"){e+="<div>"+chose_subject+"</div>"}else{c.id_contact=f}if(check_email(d)==true){c.email=d}else{e+="<div>"+txt_enter_email+"</div>"}if(g==""){e+="<div>"+txt_enter_message+"</div>"}else{c.message=g}if(e){b.find(".contactform-message").addClass("error").append(e).show();return false}else{b.find(".contactform-message").removeClass("error success").html("").hide()}if(b.find("input[name=id_order]").length>0){c.id_order=b.find("input[name=id_order]").val()}else{if(b.find("select[name=id_order]").length>0){c.id_order=b.find("select[name=id_order]").val()}}if(b.find("input[name=id_product]").length>0){c.id_product=b.find("input[name=id_product]").val()}else{if(b.find("select[name=id_product]").length>0){c.id_product=b.find("select[name=id_product]").val()}}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:c,complete:function(){},success:function(h){open_psframework_alert(h.status,h.msg)}})});$("#modalSendToFriend").on("hidden.bs.modal",function(b){$("#modalSendToFriend .message").html("").removeClass("alert-danger alert-success").hide()});$(document).on("click",".js_send_email_to_friend",function(){var f=$(this).parent(),b={task:"sendToFriend",id_product:$(this).data("id_product")},c=f.find("input[name=friend_email]").val(),e=f.find("input[name=friend_name]").val(),g=f.find("input[name=your_name]").val(),d="";if(check_email(c)==true){b.email=c}else{d+="<div>"+$(this).data("txt_enter_email")+"</div>"}if(e==""){d+="<div>"+$(this).data("txt_enter_name")+"</div>"}else{b.name=e}b.secure_key=psframeworkSecureKey;if(d){f.find(".message").addClass("alert-danger").html(d).show();return false}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(h){if(h.status=="1"){f.find(".message").addClass("alert-success").html(h.msg).show()}else{f.find(".message").addClass("alert-danger").html(h.msg).show()}}})});$(document).on("click",".view-filter-block",function(b){$(this).closest(".simplecategory").find(".simplecategory-filter-block-inner").slideToggle()});$(document).on("click",".simplecategory-load-more-filter",function(c){if(!$(this).hasClass("disabled")){var b=$(this).closest(".simplecategory").find(".simplecategory-filter-block"),d=parseInt($(this).attr("data-page"));simplecategory_filter(b,d)}});$(document).on("click",".simplecategory-url-ajax",function(f){if(!$(this).hasClass("disabled")){var b=$(this),g=parseInt(b.attr("data-page")),h=b.data("widget"),c=b.closest(".simplecategory").find(".simplecategory-container-ajax"),d={task:"simplecategory_load_more",page:g,widget_id:h};$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:d,complete:function(){},success:function(e){if(e.html){c.append(e.html);b.attr("data-page",g+1)}else{b.addClass("disabled")}}})}});$(document).on("click",".newsletter-subscribe",function(c){var f=$(this).closest(".newsletter"),b={task:"regisNewsletter",action:0},d=f.find(".newsletter-email").val();if(check_email(d)==true){b.email=d}else{open_psframework_alert("danger",txt_enter_email);return false}if(f.find(".newsletter-persistent").is(":checked")){b.persistent="1"}else{b.persistent="0"}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(e){if(e.status=="0"){open_psframework_alert("danger",e.msg)}else{open_psframework_alert("success",e.msg)}}})});$(document).on("click",".newsletter-close",function(c){var d=$(this).closest(".newsletter"),b={task:"cancelRegisNewsletter"};if(d.find(".newsletter-persistent").is(":checked")){b.persistent="1"}else{b.persistent="0"}$.ajax({type:"POST",cache:true,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(e){}})});$(document).on("click","#product #product-image-zoom",function(b){if(!_ismobile){var c=$("#product #product-image-zoom").data("elevateZoom");$.fancybox(c.getGalleryList())}return true});$(document).on("click",".message-close",function(b){$(this).parent().hide()});$(document).on("click",".product-list-view-action",function(c){if($(this).hasClass("active")){return false}var b={task:"changeProductListView",value:$(this).data("value")};$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:b,complete:function(){},success:function(d){location.reload(true)}})});$(document).on("click",".show-all",function(b){if($(this).hasClass("active")){$(this).parent().find(".other-item").slideToggle();$(this).removeClass("active")}else{$(this).parent().find(".other-item").slideToggle();$(this).addClass("active")}return true});$(document).on("click",".open-image",function(b){showPopup($("#image-popup"));return false});$(document).on("click",".close-popup, .overlay-popup .close-layer",function(b){$(".overlay-popup.visible").removeClass("active");setTimeout(function(){$(".overlay-popup.visible").removeClass("visible")},500)});$(document).on("click",".open-search-popup",function(b){var c=$(this).parent().find(".popup");closePopups();if(!c.hasClass("active")){$(this).addClass("active");c.addClass("active").animate({opacity:"1",visibility:"visible"},300,function(){$(this).parent().addClass("opened")})}});$(document).on("click",".search-drop-down .title",function(b){$(this).parent().toggleClass("active")});$(document).on("click",".search-drop-down .category-item",function(b){$(this).addClass("active");var c=$(this).closest(".search-drop-down");c.find(".category-item").not(this).removeClass("active");c.find(".title span").text($(this).text())});$(document).on("click",".psf-socialsharing",function(c){var b=$(this).data();switch(b.type){case"twitter":window.open("https://twitter.com/intent/tweet?text="+psf_sharing_name+" "+encodeURIComponent(psf_sharing_url),"sharertwt","toolbar=0,status=0,width=640,height=445");break;case"facebook":window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(psf_sharing_url),"sharer","toolbar=0,status=0,width=660,height=445");break;case"google-plus":window.open("https://plus.google.com/share?url="+encodeURIComponent(psf_sharing_url),"sharer","toolbar=0,status=0,width=660,height=445");break;case"pinterest":window.open("http://www.pinterest.com/pin/create/button/?media="+psf_sharing_img+"&url="+encodeURIComponent(psf_sharing_url),"sharerpinterest","toolbar=0,status=0,width=660,height=445");break}});$(document).on("click",".menu-button",function(b){$("body").addClass("opened-menu");$(".opened-menu .close-header-layer").fadeIn(300);closePopups();return false});$(document).on("click",".megamenu-responsive-show-all",function(c){var b=$(this).closest("ul");if(winW>=1200){b.find(".xl-other").slideToggle()}else{if(winW>=992&&winW<1200){b.find(".lg-other").slideToggle()}else{if(winW>=768&&winW<992){b.find(".md-other").slideToggle()}}}});$(document).on("click",".vertical-show-all-megamenu",function(b){if($(this).hasClass("checked")){$(this).removeClass("checked")}else{$(this).addClass("checked")}$(this).closest(".megamenu").find(".other-item").slideToggle()});$(document).on("click",".ajax_add_to_cart_button:not(.disabled)",function(c){c.preventDefault();var f=parseInt($(this).data("qty"));if(mini_cart_type=="bottom"){var d=$(this).closest(".product").find(".primary-image");if(d.length>0){var b=d.clone(true);b.addClass("fly-image").css({position:"fixed","z-index":"10000",left:d.offset().left,top:d.offset().top-winScr,width:d.width(),height:"auto"}).stop().animate({width:0,top:winH,left:0},500);$("body").append(b);setTimeout(function(){$(".fly-image").remove()},1000)}}else{$("#modal_ajax_ddd_to_cart").remove()}$.ajax({type:"POST",cache:false,url:$(this).attr("href"),dataType:"json",data:{add:1,ajax:1,id_product:$(this).data("id_product"),id_product_attribute:$(this).data("id_product_attribute"),id_customization:$(this).data("id_customization"),id_address_delivery:$(this).data("id_address_delivery"),qty:f,token:psframeworkSecureKey},complete:function(){},success:function(e){if(e.status=="success"){$(".cart-products-count").html(e.products_count);$(".cart-products-count-label").html(e.summary_string);$(".total-value").html(e.subtotals);$(".cart-product-list-container").html(e.product_list);if(mini_cart_type!="bottom"){$("body").append(e.msg);$("#modal_ajax_ddd_to_cart").modal("show")}else{if(winW>767){$(".cart-product-list.bottom-fixed").css({bottom:-parseInt($(".cart-product-list.bottom-fixed").outerHeight())})}}}else{open_psframework_alert(e.status,e.msg)}}})});$(document).on("click",".cart-product-list.bottom-fixed .mini-cart-product-edit",function(b){var c=$(this).closest(".cart-product").find(".product-info");if(c.is(":visible")){c.fadeOut()}else{$(".cart-product-list.bottom-fixed .product-info").fadeOut();c.fadeIn()}});$(document).on("click",".cart-product-list.bottom-fixed .cart-text",function(b){var c=$(this).closest(".cart-product-list");if($("body").hasClass("opened-mini-cart")){$("body").removeClass("opened-mini-cart");$(".close-header-layer:visible").fadeOut(300)}else{if(c.hasClass("opened")){c.removeClass("opened")}else{c.addClass("opened")}}});$(document).on("click",".product-quantity-action",function(b){b.preventDefault();var d=parseInt($(this).data("qty")),c="up",f=$(this).data("update-url");if($(this).hasClass("product-quantity-increase")){c="down"}$.ajax({type:"POST",cache:false,url:$(this).attr("href"),dataType:"json",data:{update:1,ajax:1,op:c,id_product:$(this).data("id_product"),id_product_attribute:$(this).data("id_product_attribute"),id_customization:$(this).data("id_customization"),id_address_delivery:$(this).data("id_address_delivery"),qty:d,token:psframeworkSecureKey},complete:function(){},success:function(e){if(e.status=="success"){$(".cart-products-count").html(e.products_count);$(".cart-products-count-label").html(e.summary_string);$(".total-value").html(e.subtotals);$(".cart-product-list-container").html(e.product_list);$('.js-cart-line-product-quantity[data-update-url="'+f+'"]').val(e.cart_product_qty)}else{open_psframework_alert(e.status,e.msg)}}})});$(document).on("click",".ajax_remove_to_cart_button",function(b){b.preventDefault();var f=parseInt($(this).data("qty")),d=$(this).data("id_product"),c=$(this).data("product");$.ajax({type:"POST",cache:false,url:psframeworkCartUrl,dataType:"json",data:{remove:1,ajax:1,id_product:d,id_product_attribute:$(this).data("id_product_attribute"),id_customization:$(this).data("id_customization"),id_address_delivery:$(this).data("id_address_delivery"),qty:f,token:psframeworkSecureKey},complete:function(){},success:function(e){if(e.status=="success"){$(".cart-products-count").html(e.products_count);$(".cart-products-count-label").html(e.summary_string);$(".total-value").html(e.subtotals);$(".cart-product-list-container").html(e.product_list);if(mini_cart_type=="bottom"&&winW>767){$(".cart-product-list.bottom-fixed").css({bottom:-parseInt($(".cart-product-list.bottom-fixed").outerHeight())})}}}})});$(document).on("click",".psframework-next-panel",function(c){var b=$(this);var g=b.closest(".megamenu-item");var h=b.closest(".psframework-panel");var f=b.attr("href");if($(f).length){h.addClass("psframework-sub-opened");$(f).addClass("psframework-panel-opened").removeClass("psframework-hidden").attr("data-parent-panel",h.attr("id"));var e=g.find(".menu-txt").html();var d=$(f).data("paneltitle");if(typeof e!="undefined"&&typeof e!=false){if(!$(".psframework-panels-actions-wrap .psframework-current-panel-title").length){$(".psframework-panels-actions-wrap").prepend('<span class="psframework-current-panel-title"></span>')}$(".psframework-panels-actions-wrap .psframework-current-panel-title").html(e)}else{$(".psframework-panels-actions-wrap .psframework-current-panel-title").remove()}$(".psframework-panels-actions-wrap .psframework-prev-panel").remove();$(".psframework-panels-actions-wrap").prepend('<a data-paneltitle="'+d+'" class="psframework-prev-panel" href="#'+h.attr("id")+'" data-cur-panel="'+f+'" data-target="#'+h.attr("id")+'"><i class="fa fa-angle-left" aria-hidden="true"></i></a>')}c.preventDefault()});$(document).on("click",".psframework-prev-panel",function(d){var b=$(this);var c=b.attr("data-cur-panel");var g=b.attr("href");var e=$(g).data("paneltitle");$(c).removeClass("psframework-panel-opened").addClass("psframework-hidden");$(g).addClass("psframework-panel-opened").removeClass("psframework-sub-opened");var f=$(g).attr("data-parent-panel");if(typeof f=="undefined"||typeof f==false){$(".psframework-panels-actions-wrap .psframework-prev-panel").remove();$(".psframework-panels-actions-wrap .psframework-current-panel-title").html(e)}else{$(".psframework-panels-actions-wrap .psframework-prev-panel").attr("href","#"+f).attr("data-cur-panel",g).attr("data-target","#"+f);if(typeof e!="undefined"&&typeof e!=false){if(!$(".psframework-panels-actions-wrap .psframework-current-panel-title").length){$(".psframework-panels-actions-wrap").prepend('<span class="psframework-current-panel-title"></span>')}$(".psframework-panels-actions-wrap .psframework-current-panel-title").html(e)}else{$(".psframework-panels-actions-wrap .psframework-current-panel-title").html(e)}}d.preventDefault()});$(document).on("click",".responsive-menu-toggle",function(b){b.stopPropagation();var c=$(this).next(".responsive-menu.hide-always");if(c.length>0){if(c.is(":hidden")){c.slideDown();$(".responsive-menu-toggle").not(this).removeClass("active");$(this).addClass("active");c.find(".psfswiper-container").each(function(){var d=$(this).attr("id");if(swipers[d]!==undefined){swipers[d].update(true)}})}else{c.slideUp();$(this).removeClass("active")}}if(winW<1200){$(".responsive-menu-toggle").not(this).next(".responsive-menu").slideUp()}});$(document).on("click",".close-header-layer, .close-blockcart",function(b){$("body").removeClass("opened-menu opened-mini-cart");$(".close-header-layer:visible").fadeOut(300)});$(document).on("click",".blockcart-action",function(b){$("body").addClass("opened-mini-cart");$(".opened-mini-cart .close-header-layer").fadeIn(300);closePopups();return false});$(document).on("click",".psframework-close-panels",function(){$("body").removeClass("opened-menu");$(".close-header-layer:visible").fadeOut(300);return false});$(document).on("click",".block-sidebar .open-block-content-wrapper",function(b){b.preventDefault();if(_ismobile){$(this).parent().toggleClass("opened");$(this).parent().next(".block-content-wrapper").slideToggle()}});$(document).on("click",".psfshow-password",function(b){var c=$(this).parent().find("input.js-visible-password");if(c.attr("type")==="password"){c.attr("type","text");$(this).removeClass("password-hide").addClass("password-show")}else{c.attr("type","password");$(this).removeClass("password-show").addClass("password-hide")}});$(document).on("click",".simplecategory-filter-block .js-filter",function(d){var b=$(this).closest(".simplecategory-filter-block"),f=$(this).closest(".filter-group"),c="";if(f.data("mix")=="1"){if($(this).hasClass("active")){$(this).removeClass("active")}else{$(this).addClass("active")}f.find(".js-filter.active").each(function(){c+=$(this).data("value")+", "});c.slice(0,-2)}else{if($(this).hasClass("active")){$(this).removeClass("active")}else{f.find(".js-filter").removeClass("active");$(this).addClass("active");c=$(this).data("value")}}f.find(".filter-value").val(c);simplecategory_filter(b,0)});$(document).on("change","select[name=id_contact]",function(){$(".desc_contact").hide();$(".desc_contact"+parseInt($(this).val())).show()});$(document).on("change","select[name=id_order]",function(){showProductSelect($(this).attr("value"))});$(".main-swiper .swiper-container").hover(function(){var b=$(this).closest(".main-swiper");var c=$(this).attr("id");if(swipers[c]!==undefined){swipers[c].stopAutoplay()}if(swipersliders[c]!==undefined){swipersliders[c].stopAutoplay()}},function(){var b=$(this).attr("id");if(swipers[b]!==undefined){swipers[b].startAutoplay()}if(swipersliders[b]!==undefined){swipersliders[b].startAutoplay()}});$("nav>ul>li").on("mouseover",function(){if(!_isresponsive){$(this).find(".submenu").stop().fadeIn(300)}});$("nav>ul>li").on("mouseleave",function(){if(!_isresponsive){$(this).find(".submenu").stop().fadeOut(300)}});$(".show_product_image_attribute").hover(function(){var b=$(this).closest(".product-thumbnail"),c=$(this).data("image");if(c){b.find(".thumbnail").attr("src",c)}},function(){var b=$(this).closest(".product-thumbnail"),c=$(this).data("image"),d=b.find(".thumbnail").data("original");if(c){b.find(".thumbnail").attr("src",d)}});$(".simple-search-form input").on("focus",function(){$(this).closest(".simple-search-form").addClass("active")});$(".simple-search-form input").on("blur",function(){$(this).closest(".simple-search-form").removeClass("active")});$(".open-cart-popup").on("mouseover",function(b){clearTimeout(closecartTimeout);if(!$(".cart-box.popup").hasClass("active")){closePopups();if(winW<768){$(".cart-box.popup").addClass("active").css({right:winW-$(this).offset().left-$(this).outerWidth(),top:$(this).offset().top-winScr+45,opacity:"0",visibility:"hidden"}).stop().animate({opacity:"1",visibility:"visible"},300)}else{$(".cart-box.popup").addClass("active").css({right:winW-$(this).offset().left-$(this).outerWidth(),top:$(this).offset().top-winScr+$(this).height(),opacity:"0",visibility:"hidden"}).stop().animate({opacity:"1",visibility:"visible"},300)}}if($(this).offset().left<100){$(".cart-box.popup").addClass("left-align")}else{$(".cart-box.popup").removeClass("left-align")}});$(".open-cart-popup").on("mouseleave",function(){closecartTimeout=setTimeout(function(){closePopups()},0)});var closecartTimeout=0;$(".cart-box.popup").on("mouseover",function(){clearTimeout(closecartTimeout)});$(".cart-box.popup").on("mouseleave",function(){closecartTimeout=setTimeout(function(){closePopups()},0)});var imageObject={};$(".product-zoom-container").on("mouseover",function(c){var b=$(this);imageObject.thisW=b.width();imageObject.thisH=b.height();imageObject.zoomW=b.find(".zoom-area").outerWidth();imageObject.zoomH=b.find(".zoom-area").outerHeight();imageObject.thisOf=b.offset();zoomMousemove($(this),c)});function zoomMousemove(d,c){var b=d,f=c.pageX-imageObject.thisOf.left,g=c.pageY-imageObject.thisOf.top,h=f-imageObject.zoomW*0.5,i=g-imageObject.zoomH*0.5;if(h<0){h=0}else{if(h+imageObject.zoomW>imageObject.thisW){h=imageObject.thisW-imageObject.zoomW}}if(i<0){i=0}else{if(i+imageObject.zoomH>imageObject.thisH){i=imageObject.thisH-imageObject.zoomH}}b.find(".move-box").css({left:f*(-2),top:g*(-2)});b.find(".zoom-area").css({left:h,top:i})}$(".product-zoom-container").on("mousemove",function(b){zoomMousemove($(this),b)});$(document).on("click",".product-zoom-container",function(b){$(this).animate({opacity:"0"},function(){$(this).removeClass("visible")})});$(".product-zoom-container").on("mouseleave",function(){$(this).click()});$(".psf-animated").hover(function(b){$(this).find(".animated").each(function(){var c=$(this).data("animated");if(c!="undefined"){$(this).addClass(c).removeClass("animationend")}})},function(b){$(this).find(".animated").each(function(){var c=$(this).data("animated");if(c!="undefined"){$(this).removeClass(c).addClass("animationend")}})});$(".psf-animated .animated").bind("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){var b=$(this).data("animated");if(b!="undefined"){$(this).removeClass(b).addClass("animationend")}});$("#modalPSFrameworkAlert").on("hidden.bs.modal",function(b){$("#modalPSFrameworkAlert .alert-content").html("").removeClass("alert-info alert-danger alert-warning alert-success")});function megamenu_on_mobile(){if($(".main-megamenu-clone").length>1){if(!$(".psframework-clone-wrap").length){$("body").prepend('<div class="psframework-clone-wrap"><div class="psframework-panels-actions-wrap"><span class="psframework-current-panel-title">'+txt_main_panel+'</span><a class="close-menu psframework-close-btn psframework-close-panels" href="#">x</a></div><div class="psframework-panels"></div></div>')}var b=0;$(".main-megamenu-clone").each(function(){var h=$(this);var j=h.attr("id");var i="psframework-panel-"+j;if(!$("#"+i).length){var k=h.clone(true);k.find(".megamenu-item").addClass("megamenu-item-clone");k.find("[id]").each(function(){$(this).attr("id",$(this).attr("id")+"-clone")});var m=$(this).data("menuname");if(!$(".psframework-clone-wrap .psframework-panels #psframework-main-panel").length){$(".psframework-clone-wrap .psframework-panels").append('<div id="psframework-main-panel" class="psframework-panel psframework-main-panel" data-paneltitle="'+txt_main_panel+'"><ul class="depth-01"></ul></div>')}$(".psframework-clone-wrap .psframework-panels #psframework-main-panel ul").append('<li class="megamenu-item megamenu-item-clone"><a data-target="#'+i+'" class="psframework-next-panel" href="#'+i+'"><i class="fa fa-angle-right" aria-hidden="true"></i></a><a title="'+m+'" class="psframework-item-title" href="#"><span class="menu-txt">'+m+"</span></a></li>");if(!$(".psframework-clone-wrap .psframework-panels #psframework-panel-"+j).length){$(".psframework-clone-wrap .psframework-panels").append('<div id="psframework-panel-'+j+'" class="psframework-panel psframework-hidden" data-paneltitle="'+m+'"><ul class="depth-01"></ul></div>')}var l=$(".psframework-clone-wrap .psframework-panels #psframework-panel-"+j+" ul");l.html(k.html());v(l,b)}})}else{if($(".main-megamenu-clone").length==1){var c=$(".main-megamenu-clone");if(!$(".psframework-clone-wrap").length){$("body").prepend('<div class="psframework-clone-wrap"><div class="psframework-panels-actions-wrap"><span class="psframework-current-panel-title">'+c.data("menuname")+'</span><a class="close-menu psframework-close-btn psframework-close-panels" href="#">x</a></div><div class="psframework-panels"></div></div>')}var b=0;var e=c.attr("id");var d="psframework-panel-"+e;if(!$("#"+d).length){var f=c.clone(true);f.find(".megamenu-item").addClass("megamenu-item-clone");f.find("[id]").each(function(){$(this).attr("id",$(this).attr("id")+"-clone")});if(!$(".psframework-clone-wrap .psframework-panels #psframework-panel-"+e).length){$(".psframework-clone-wrap .psframework-panels").append('<div id="psframework-panel-'+e+'" class="psframework-panel psframework-main-panel" data-paneltitle="'+c.data("menuname")+'"><ul class="depth-01"></ul></div>')}var g=$(".psframework-clone-wrap .psframework-panels #psframework-panel-"+e+" ul");g.html(f.html());v(g,b)}}}$(".psframework-clone-wrap .psfswiper-container").removeClass("initialized")}function v(b,c){if(b.find(".parent").length){b.find(".parent").each(function(){var f=$(this),g=f.find(".menu-txt").html();v(f,c);var d="psframework-panel-"+c;while($("#"+d).length){c++;d="psframework-panel-"+c}f.prepend('<a class="psframework-next-panel" href="#'+d+'" data-target="#'+d+'"><i class="fa fa-angle-right" aria-hidden="true"></i></a>').removeClass("parent mega simple");var e=$("<div>").append(f.find("> .responsive-dropdown").clone().removeAttr("style")).html();f.find("> .responsive-dropdown").remove();$(".psframework-clone-wrap .psframework-panels").append('<div id="'+d+'" data-paneltitle="'+g+'" class="psframework-panel psframework-sub-panel psframework-hidden">'+e+"</div>")})}}function simplecategory_filter(c,b){var d=c.closest(".simplecategory"),e=d.find(".simplecategory-container-ajax"),f={task:"simplecategory_filter",page:b,widget_id:c.data("id"),order:"",price:"",tags:"",category_ids:"",attributes:[],features:[]};d.append($('<div class="content-loadding"><div class="cssload-container"><div class="cssload-whirlpool"></div></div></div>'));c.find(".filter-value").each(function(){if($(this).hasClass("filter-value-ordering")){f.order=$(this).val()}else{if($(this).hasClass("filter-value-prices")){f.price=$(this).val()}else{if($(this).hasClass("filter-value-tags")){f.tags=$(this).val()}else{if($(this).hasClass("filter-value-categories")){f.category_ids=$(this).val()}else{if($(this).hasClass("filter-value-attributes")){if($(this).val()){f.attributes.push($(this).val())}}else{if($(this).hasClass("filter-value-features")){if($(this).val()){f.features.push($(this).val())}}}}}}}});$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:f,complete:function(){},success:function(g){if(b=="0"){e.html(g.html);d.find(".simplecategory-load-more-filter").attr("data-page",2)}else{if(g.html){e.append(g.html);d.find(".simplecategory-load-more-filter").attr("data-page",b+1)}else{d.find(".simplecategory-load-more-filter").addClass("disabled")}}d.find(".content-loadding").remove()}})}function load_simplecategory_widget(b){var d=b.data("id"),c={task:"load_simplecategory_widget",id:d};$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:c,async:false,complete:function(){},success:function(e){if(e.html){b.html(e.html).addClass("ajax-loaded");initPSFSwiper()}}})}function load_megacategory_item(c,b){var f=null,e=c.data("id"),g=c.data("widget_id"),d={task:"load_megacategory_item",widget_id:g,id:e};if(b!=null){f=c.closest(".tab-contents");f.append($('<div class="content-loadding"><div class="cssload-container"><div class="cssload-whirlpool"></div></div></div>'))}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:d,async:true,complete:function(){},success:function(h){if(h.html){if(b!=null){b.hide();f.find(".content-loadding").remove()}c.html(h.html).addClass("ajax-loaded").css({display:"block",opacity:1}).addClass("active");initPSFSwiper()}}})}function load_megadeals_item(c,b){var f=null,e=c.data("id"),g=c.data("widget_id"),d={task:"load_megadeals_item",widget_id:g,id:e};if(b!=null){f=c.closest(".tab-contents");f.append($('<div class="content-loadding"><div class="cssload-container"><div class="cssload-whirlpool"></div></div></div>'))}$.ajax({type:"POST",cache:false,url:psframeworkAjaxUrl,dataType:"json",data:d,async:true,complete:function(){},success:function(h){if(h.html){if(b!=null){b.hide();f.find(".content-loadding").remove()}c.html(h.html).addClass("ajax-loaded").css({display:"block",opacity:1}).addClass("active");initPSFSwiper()}}})}function check_email(b){var c=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.([a-z]){2,4})$/;if(c.test(b)){return true}else{return false}}function open_psframework_alert(c,b){$("#modalPSFrameworkAlert .alert-content").html(b);if(c=="danger"){$("#modalPSFrameworkAlert .alert-content").removeClass("alert-info alert-warning alert-success").addClass("alert-danger")}else{if(c=="info"){$("#modalPSFrameworkAlert .alert-content").removeClass("alert-warning alert-success alert-danger").addClass("alert-info")}else{if(c=="warning"){$("#modalPSFrameworkAlert .alert-content").removeClass("alert-info alert-danger alert-success").addClass("alert-warning")}else{$("#modalPSFrameworkAlert .alert-content").removeClass("alert-info alert-danger alert-warning").addClass("alert-success")}}}$("#modalPSFrameworkAlert").modal("show");setTimeout(function(){$("#modalPSFrameworkAlert").modal("hide")},3000)};