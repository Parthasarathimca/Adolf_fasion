(function(a){var O,F,P,E,u,t,L,C,D,H=0,I={},G=[],w=0,x={},v=[],r=null,A=new Image(),B=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,K=/[^\.]\.(swf)\s*$/i,M=0,N="",J,y,s=false,z=a.extend(a("<div/>")[0],{prop:0}),b=function(){A.onerror=A.onload=null;if(r){r.abort()}O.empty()},d=function(){if(false===I.onError(G,H,I)){s=false;return}I.titleShow=false;I.width="auto";I.height="auto";O.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');m()},q=function(){var S=G[H],R,W,V,U,Q,T;b();I=a.extend({},a.fn.fancybox.defaults,(typeof a(S).data("fancybox")=="undefined"?I:a(S).data("fancybox")));T=I.onStart(G,H,I);if(T===false){s=false;return}else{if(typeof T=="object"){I=a.extend(I,T)}}if(S.nodeName&&!I.orig){I.orig=a(S).children("img:first").length?a(S).children("img:first"):a(S)}R=I.href||(S.nodeName?a(S).attr("href"):S.href)||null;if((/^(?:javascript)/i).test(R)||R=="#"){R=null}if(I.type){W=I.type;if(!R){R=I.content}}else{if(I.content){W="html"}else{if(R){if(R.match(B)){W="image"}else{if(R.match(K)){W="swf"}else{if(a(S).hasClass("iframe")){W="iframe"}else{if(R.indexOf("#")===0){W="inline"}else{W="ajax"}}}}}}}if(!W){d();return}if(W=="inline"){S=R.substr(R.indexOf("#"));W=a(S).length>0?"inline":"ajax"}I.type=W;I.href=R;if(I.autoDimensions){if(I.type=="html"||I.type=="inline"||I.type=="ajax"){I.width="auto";I.height="auto"}else{I.autoDimensions=false}}if(I.modal){I.overlayShow=true;I.hideOnOverlayClick=false;I.hideOnContentClick=false;I.enableEscapeButton=false;I.showCloseButton=false}I.padding=parseInt(I.padding,10);I.margin=parseInt(I.margin,10);O.css("padding",(I.padding+I.margin));a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(u.children())});switch(W){case"html":O.html(I.content);m();break;case"inline":if(a(S).parent().is("#fancybox-content")===true){s=false;return}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(S)).bind("fancybox-cleanup",function(){a(this).replaceWith(u.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(O.children())});a(S).appendTo(O);m();break;case"image":s=false;a.fancybox.showActivity();A=new Image();A.onerror=function(){d()};A.onload=function(){s=true;A.onerror=A.onload=null;l()};A.src=R;break;case"swf":I.scrolling="no";U='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+I.width+'" height="'+I.height+'"><param name="movie" value="'+R+'"></param>';Q="";a.each(I.swf,function(X,Y){U+='<param name="'+X+'" value="'+Y+'"></param>';Q+=" "+X+'="'+Y+'"'});U+='<embed src="'+R+'" type="application/x-shockwave-flash" width="'+I.width+'" height="'+I.height+'"'+Q+"></embed></object>";O.html(U);m();break;case"ajax":s=false;a.fancybox.showActivity();I.ajax.win=I.ajax.success;r=a.ajax(a.extend({},I.ajax,{url:R,data:I.ajax.data||{},error:function(Z,Y,X){if(Z.status>0){d()}},success:function(X,Z,aa){var Y=typeof aa=="object"?aa:r;if(Y.status==200){if(typeof I.ajax.win=="function"){T=I.ajax.win(R,X,Z,aa);if(T===false){return}else{if(typeof T=="string"||typeof T=="object"){X=T}}}O.html(X);m()}}}));break;case"iframe":p();break}},m=function(){var R=I.width,Q=I.height;if(R.toString().indexOf("%")>-1){R=parseInt((a(window).width()-(I.margin*2))*parseFloat(R)/100,10)+"px"}else{R=R=="auto"?"auto":R+"px"}if(Q.toString().indexOf("%")>-1){Q=parseInt((a(window).height()-(I.margin*2))*parseFloat(Q)/100,10)+"px"}else{Q=Q=="auto"?"auto":Q+"px"}O.wrapInner('<div style="width:'+R+";height:"+Q+";overflow: "+(I.scrolling=="auto"?"auto":(I.scrolling=="yes"?"scroll":"hidden"))+';position:relative;"></div>');I.width=O.width();I.height=O.height();p()},l=function(){I.width=A.width;I.height=A.height;a("<img />").attr({id:"fancybox-img",src:A.src}).appendTo(O);p()},p=function(){var R,Q;s=true;a(u.add(F)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");v=G;w=H;x=I;if(x.overlayShow){F.css({"background-color":x.overlayColor,opacity:x.overlayOpacity,cursor:x.hideOnOverlayClick?"pointer":"auto",height:a(document).height()});if(!F.is(":visible")){F.show()}}else{F.hide()}y=j();n();if(P.is(":visible")){a(t.add(C).add(D)).hide();R=P.position(),J={top:R.top,left:R.left,width:P.width(),height:P.height()};Q=(J.width==y.width&&J.height==y.height);u.fadeTo(x.changeFade,0.3,function(){var S=function(){u.html(O.contents()).fadeTo(x.changeFade,1,e)};a.event.trigger("fancybox-change");u.empty().removeAttr("filter").css({width:y.width-x.padding*2,height:I.autoDimensions?"auto":y.height-x.padding*2});if(Q){S()}else{z.prop=0;a(z).animate({prop:1},{duration:x.changeSpeed,easing:x.easingChange,step:c,complete:S})}});return}if(x.transitionIn=="elastic"){J=i();u.html(O.contents());P.show();if(x.opacity){y.opacity=0}z.prop=0;a(z).animate({prop:1},{duration:x.speedIn,easing:x.easingIn,step:c,complete:e});return}u.css({width:y.width-x.padding*2,height:I.autoDimensions?"auto":y.height-x.padding*2}).html(O.contents());P.show(x.transitionIn=="none"?0:x.speedIn,e)},f=function(Q){},n=function(){},o=function(){if(x.enableEscapeButton||x.enableKeyboardNav){a(document).bind("keydown.fb",function(Q){if(Q.keyCode==27&&x.enableEscapeButton){Q.preventDefault();a.fancybox.close()}else{if((Q.keyCode==37||Q.keyCode==39)&&x.enableKeyboardNav&&Q.target.tagName!=="INPUT"&&Q.target.tagName!=="TEXTAREA"&&Q.target.tagName!=="SELECT"){Q.preventDefault();a.fancybox[Q.keyCode==37?"prev":"next"]()}}})}if(!x.showNavArrows){C.hide();D.hide();return}if((x.cyclic&&v.length>1)||w!==0){C.show()}if((x.cyclic&&v.length>1)||w!=(v.length-1)){D.show()}},e=function(){if(I.autoDimensions){u.css("height","auto")}P.css("height","auto");if(x.showCloseButton){t.show()}o();if(x.hideOnContentClick){u.bind("click",a.fancybox.close)}if(x.hideOnOverlayClick){F.bind("click",a.fancybox.close)}a(window).bind("resize.fb",a.fancybox.resize);if(x.centerOnScroll){a(window).bind("scroll.fb",a.fancybox.center)}if(x.type=="iframe"){a('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" scrolling="'+I.scrolling+'" src="'+x.href+'"></iframe>').appendTo(u)}P.show();s=false;a.fancybox.center();x.onComplete(v,w,x);k()},k=function(){var Q,R;if((v.length-1)>w){Q=v[w+1].href;if(typeof Q!=="undefined"&&Q.match(B)){R=new Image();R.src=Q}}if(w>0){Q=v[w-1].href;if(typeof Q!=="undefined"&&Q.match(B)){R=new Image();R.src=Q}}},c=function(R){var Q={width:parseInt(J.width+(y.width-J.width)*R,10),height:parseInt(J.height+(y.height-J.height)*R,10),top:parseInt(J.top+(y.top-J.top)*R,10),left:parseInt(J.left+(y.left-J.left)*R,10)};if(!P.is(":visible")){P.css(Q)}u.css({width:Q.width-x.padding*2,height:Q.height-x.padding*2})},h=function(){return[a(window).width()-(x.margin*2),a(window).height()-(x.margin*2),a(document).scrollLeft()+x.margin,a(document).scrollTop()+x.margin]},j=function(){var U=h(),T={},S=x.autoScale,Q=x.padding*2,R;if(x.width.toString().indexOf("%")>-1){T.width=parseInt((U[0]*parseFloat(x.width))/100,10)}else{T.width=x.width+Q}if(x.height.toString().indexOf("%")>-1){T.height=parseInt((U[1]*parseFloat(x.height))/100,10)}else{T.height=x.height+Q}if(S&&(T.width>U[0]||T.height>U[1])){if(I.type=="image"||I.type=="swf"){R=(x.width)/(x.height);if((T.width)>U[0]){T.width=U[0];T.height=parseInt(((T.width-Q)/R)+Q,10)}if((T.height)>U[1]){T.height=U[1];T.width=parseInt(((T.height-Q)*R)+Q,10)}}else{T.width=Math.min(T.width,U[0]);T.height=Math.min(T.height,U[1])}}T.top=parseInt(Math.max(U[3]-20,U[3]+((U[1]-T.height-40)*0.5)),10);T.left=parseInt(Math.max(U[2]-20,U[2]+((U[0]-T.width-40)*0.5)),10);return T},g=function(Q){var R=Q.offset();R.top+=parseInt(Q.css("paddingTop"),10)||0;R.left+=parseInt(Q.css("paddingLeft"),10)||0;R.top+=parseInt(Q.css("border-top-width"),10)||0;R.left+=parseInt(Q.css("border-left-width"),10)||0;R.width=Q.width();R.height=Q.height();return R},i=function(){var R=I.orig?a(I.orig):false,Q={},S,T;if(R&&R.length){S=g(R);Q={width:S.width+(x.padding*2),height:S.height+(x.padding*2),top:S.top-x.padding-20,left:S.left-x.padding-20}}else{T=h();Q={width:x.padding*2,height:x.padding*2,top:parseInt(T[3]+T[1]*0.5,10),left:parseInt(T[2]+T[0]*0.5,10)}}return Q};a.fn.fancybox=function(Q){if(!a(this).length){return this}a(this).data("fancybox",a.extend({},Q,(a.metadata?a(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(R){R.preventDefault();if(s){return}s=true;a(this).blur();G=[];H=0;var S=a(this).attr("rel")||"";if(!S||S==""||S==="nofollow"){G.push(this)}else{G=a("a[rel="+S+"], area[rel="+S+"]");H=G.index(this)}q();return});return this};a.fancybox=function(S){var T;if(s){return}s=true;T=typeof arguments[1]!=="undefined"?arguments[1]:{};G=[];H=parseInt(T.index,10)||0;if(a.isArray(S)){for(var Q=0,R=S.length;Q<R;Q++){if(typeof S[Q]=="object"){a(S[Q]).data("fancybox",a.extend({},T,S[Q]))}else{S[Q]=a({}).data("fancybox",a.extend({content:S[Q]},T))}}G=jQuery.merge(G,S)}else{if(typeof S=="object"){a(S).data("fancybox",a.extend({},T,S))}else{S=a({}).data("fancybox",a.extend({content:S},T))}G.push(S)}if(H>G.length||H<0){H=0}q()};a.fancybox.showActivity=function(){};a.fancybox.hideActivity=function(){};a.fancybox.next=function(){return a.fancybox.pos(w+1)};a.fancybox.prev=function(){return a.fancybox.pos(w-1)};a.fancybox.pos=function(Q){if(s){return}Q=parseInt(Q);G=v;if(Q>-1&&Q<v.length){H=Q;q()}else{if(x.cyclic&&v.length>1){H=Q>=v.length?0:v.length-1;q()}}return};a.fancybox.cancel=function(){if(s){return}s=true;a.event.trigger("fancybox-cancel");b();I.onCancel(G,H,I);s=false};a.fancybox.close=function(){if(s||P.is(":hidden")){return}s=true;if(x&&false===x.onCleanup(v,w,x)){s=false;return}b();a(t.add(C).add(D)).hide();a(u.add(F)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");u.find("iframe").attr("src","about:blank");P.stop();function Q(){F.fadeOut("fast");P.hide();a.event.trigger("fancybox-cleanup");u.empty();x.onClosed(v,w,x);v=I=[];w=H=0;x=I={};s=false}if(x.transitionOut=="elastic"){J=i();var R=P.position();y={top:R.top,left:R.left,width:P.width(),height:P.height()};if(x.opacity){y.opacity=1}z.prop=1;a(z).animate({prop:0},{duration:x.speedOut,easing:x.easingOut,step:c,complete:Q})}else{P.fadeOut(x.transitionOut=="none"?0:x.speedOut,Q)}};a.fancybox.resize=function(){if(F.is(":visible")){F.css("height",a(document).height())}a.fancybox.center(true)};a.fancybox.center=function(){var R,Q;if(s){return}Q=arguments[0]===true?1:0;R=h();if(!Q&&(P.width()>R[0]||P.height()>R[1])){return}P.stop().animate({top:parseInt(Math.max(R[3]-20,R[3]+((R[1]-u.height()-40)*0.5)-x.padding)),left:parseInt(Math.max(R[2]-20,R[2]+((R[0]-u.width()-40)*0.5)-x.padding))},typeof arguments[0]=="number"?arguments[0]:200)};a.fancybox.init=function(){if(a("#fancybox-wrap").length){return}a("body").append(O=a('<div id="fancybox-tmp"></div>'),F=a('<div id="fancybox-overlay"></div>'),P=a('<div id="fancybox-wrap"></div>'));E=a('<div id="fancybox-outer"></div>').appendTo(P);E.append(u=a('<div id="fancybox-content"></div>'),t=a('<a id="fancybox-close"><i class="ion-ios-close-empty"></i></a>'),C=a('<a href="javascript:;" id="fancybox-left" class="fancybox-nav"><i id="fancybox-left-ico" class="ion-ios-arrow-left main_color-hover-background"></i></a>'),D=a('<a href="javascript:;" id="fancybox-right" class="fancybox-nav"><i id="fancybox-right-ico" class="ion-ios-arrow-right main_color-hover-background"></i></a>'));t.click(a.fancybox.close);C.click(function(Q){Q.preventDefault();a.fancybox.prev()});D.click(function(Q){Q.preventDefault();a.fancybox.next()});if(a.fn.mousewheel){P.bind("mousewheel.fb",function(R,Q){if(s){R.preventDefault()}else{if(a(R.target).get(0).clientHeight==0||a(R.target).get(0).scrollHeight===a(R.target).get(0).clientHeight){R.preventDefault();a.fancybox[Q>0?"prev":"next"]()}}})}if(!a.support.opacity){P.addClass("fancybox-ie")}};a.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:true,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.8,overlayColor:"#888",titleShow:false,titlePosition:"outside",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:0,changeFade:0,easingIn:"none",easingOut:"none",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);